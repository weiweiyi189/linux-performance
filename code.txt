def get_cpu_usage(top_output):
    """
    从top命令的输出中提取CPU使用率
    """
    # 找到包含CPU使用率的总结行
    cpu_summary_line = [line for line in top_output.split('\n') if line.startswith('%Cpu(s):')][0]
    
    # 提取CPU使用率的百分比
    us, sy, ni, idle, wa, hi, si, st = map(float, cpu_summary_line.split(':')[1].split()[0].split(','))

    return us, sy, ni, idle, wa, hi, si, st

# 在你的代码中使用：
top_output = run_command("top -bn1")
us, sy, ni, idle, wa, hi, si, st = get_cpu_usage(top_output)
